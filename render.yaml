services:
  - type: web
    name: knowledge-graph-extractor
    env: python
    buildCommand: pip install -e . && pip install baml-py baml-cli && baml-cli generate
    startCommand: uvicorn app:app --host 0.0.0.0 --port $PORT
    envVars:
      - key: GEMINI_API_KEY
        sync: false
      - key: NEO4J_URI
        value: bolt://your-neo4j-instance:7687
      - key: NEO4J_USER
        value: neo4j
      - key: NEO4J_PASSWORD
        sync: false
      - key: PORT
        value: 8000

